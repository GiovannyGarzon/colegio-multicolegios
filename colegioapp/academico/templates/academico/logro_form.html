{% extends "colegioapp/base.html" %}
{% block title %}{% if edit_mode %}Editar{% else %}Nuevo{% endif %} Logro | {{ request.school.name }}{% endblock %}

{% block content %}
<main style="max-width:760px;margin:0 auto;padding:20px 10px;text-align:left;">

  <h2 style="color:var(--primary-color);margin-bottom:18px;">
    {% if edit_mode %}Editar{% else %}Registrar nuevo{% endif %} logro
  </h2>

  <form method="post"
        style="
          background:#ffffff;
          padding:24px 22px;
          border-radius:12px;
          box-shadow:0 4px 12px rgba(15,23,42,0.08);
          border:1px solid #e5e7eb;
        ">
    {% csrf_token %}

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">

      <div>
        <label style="font-weight:600;font-size:0.9rem;color:#0f172a;">
          Oferta (Año | Curso | Asignatura)
        </label>
        {{ form.oferta }}
      </div>

      <div>
        <label style="font-weight:600;font-size:0.9rem;color:#0f172a;">
          Período
        </label>
        {{ form.periodo }}
      </div>

      <div style="grid-column:1 / -1;">
        <label style="font-weight:600;font-size:0.9rem;color:#0f172a;">
          Título
        </label>
        {{ form.titulo }}
      </div>

      <div style="grid-column:1 / -1;">
        <label style="font-weight:600;font-size:0.9rem;color:#0f172a;">
          Descripción
        </label>
        {{ form.descripcion }}
      </div>

      <div style="max-width:180px;">
        <label style="font-weight:600;font-size:0.9rem;color:#0f172a;">
          Peso %
        </label>
        {{ form.peso }}
      </div>

    </div>

    {% if form.non_field_errors %}
      <div style="color:#dc2626;margin-top:12px;font-size:0.9rem;">
        {{ form.non_field_errors }}
      </div>
    {% endif %}

    <div style="margin-top:22px;display:flex;gap:10px;justify-content:flex-end;">
      <a href="{% url 'academico:logros' %}" class="btn-acad-muted">
        Cancelar
      </a>

      <button type="submit" class="btn-acad">
        {% if edit_mode %}Actualizar{% else %}Guardar{% endif %}
      </button>
    </div>
  </form>
</main>

<style>
  .btn-acad{
    background:var(--primary-color);
    color:#ffffff;
    padding:10px 18px;
    border-radius:999px;
    border:none;
    cursor:pointer;
    font-size:0.9rem;
    text-decoration:none;
    display:inline-flex;
    align-items:center;
    gap:4px;
    transition:0.15s ease;
  }
  .btn-acad:hover{
    filter:brightness(1.06);
  }

  .btn-acad-muted{
    background:#9ca3af;
    color:#ffffff;
    padding:10px 18px;
    border-radius:999px;
    text-decoration:none;
    font-size:0.9rem;
    display:inline-flex;
    align-items:center;
    gap:4px;
    transition:0.15s ease;
  }
  .btn-acad-muted:hover{
    background:#6b7280;
  }
</style>
{% endblock %}