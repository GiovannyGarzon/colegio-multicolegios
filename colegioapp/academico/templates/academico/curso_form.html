{% extends "colegioapp/base.html" %}

{% block title %}
  {% if edit_mode %}Editar Curso{% else %}Nuevo Curso{% endif %} | {{ request.school.nombre|default:"Colegio" }}
{% endblock %}

{% block content %}
<main style="max-width:720px;margin:0 auto;padding:24px 16px;">

  <h2 style="
        text-align:center;
        margin-bottom:24px;
        font-size:1.4rem;
        color:var(--color-primary, #2563eb);
      ">
    {% if edit_mode %}Editar Curso{% else %}Registrar nuevo curso{% endif %}
  </h2>

  <form method="post"
        style="
          background:#ffffff;
          padding:24px 22px;
          border-radius:12px;
          border:1px solid var(--color-muted-border, #e5e7eb);
          box-shadow:0 4px 14px rgba(15,23,42,0.08);
          display:grid;
          gap:16px;
        ">
    {% csrf_token %}

    <div style="display:grid; gap:14px;">
      <div>
        <label for="{{ form.grado.id_for_label }}"
               style="display:block;font-weight:600;margin-bottom:4px;color:#374151;">
          Grado
        </label>
        {{ form.grado }}
        {% if form.grado.errors %}
          <div style="color:var(--color-danger, #dc2626); font-size:0.85rem; margin-top:4px;">
            {{ form.grado.errors }}
          </div>
        {% endif %}
      </div>

      <div>
        <label for="{{ form.nombre.id_for_label }}"
               style="display:block;font-weight:600;margin-bottom:4px;color:#374151;">
          Nombre del curso
        </label>
        {{ form.nombre }}
        {% if form.nombre.errors %}
          <div style="color:var(--color-danger, #dc2626); font-size:0.85rem; margin-top:4px;">
            {{ form.nombre.errors }}
          </div>
        {% endif %}
      </div>

      <div>
        <label for="{{ form.jornada.id_for_label }}"
               style="display:block;font-weight:600;margin-bottom:4px;color:#374151;">
          Jornada
        </label>
        {{ form.jornada }}
        {% if form.jornada.errors %}
          <div style="color:var(--color-danger, #dc2626); font-size:0.85rem; margin-top:4px;">
            {{ form.jornada.errors }}
          </div>
        {% endif %}
      </div>
    </div>

    {% if form.non_field_errors %}
      <div style="
            margin-top:4px;
            padding:10px 12px;
            border-radius:8px;
            background:rgba(220,38,38,0.05);
            color:var(--color-danger, #dc2626);
            font-size:0.9rem;
          ">
        {{ form.non_field_errors }}
      </div>
    {% endif %}

    <div style="margin-top:10px; display:flex; gap:10px; justify-content:flex-end;">
      <a href="{% url 'academico:cursos' %}"
         style="
           padding:9px 16px;
           background:var(--color-muted, #6b7280);
           color:#ffffff;
           text-decoration:none;
           border-radius:8px;
           font-size:0.95rem;
         ">
        Cancelar
      </a>

      <button type="submit"
              style="
                padding:9px 18px;
                background:var(--color-primary, #2563eb);
                color:#ffffff;
                border:none;
                border-radius:8px;
                cursor:pointer;
                font-size:0.95rem;
              ">
        {% if edit_mode %}Actualizar{% else %}Guardar{% endif %}
      </button>
    </div>
  </form>

  <div style="text-align:center;margin-top:18px;">
    <a href="{% url 'academico:cursos' %}"
       style="
         padding:8px 14px;
         border-radius:999px;
         text-decoration:none;
         background:var(--color-primary-soft, #dbeafe);
         color:var(--color-primary, #2563eb);
         font-size:0.9rem;
       ">
      ‚Üê Volver al listado de cursos
    </a>
  </div>

</main>
{% endblock %}