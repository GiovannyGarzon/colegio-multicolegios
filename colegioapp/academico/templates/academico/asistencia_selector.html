{% extends "colegioapp/base.html" %}

{% block title %}Asistencia · Selector{% endblock %}

{% block content %}
<main style="max-width:900px;margin:0 auto;">
  <h2>Registrar asistencia</h2>
  <p>Selecciona el año lectivo, curso, período y fecha para pasar lista.</p>

  <form method="get" action="{% url 'academico:asistencia_tomar' %}"
        style="margin-top:20px;display:grid;gap:14px;">

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
      <div style="text-align:left;">
        <label><strong>Año lectivo</strong></label><br>
        <select name="anio" style="width:100%;padding:6px 8px;border-radius:6px;border:1px solid #cbd5e1;">
          <option value="">-- Selecciona año --</option>
          {% for a in anios %}
            <option value="{{ a.id }}" {% if a.id|stringformat:"s" == anio_selected %}selected{% endif %}>
              {{ a.nombre }}{% if a.activo %} (activo){% endif %}
            </option>
          {% endfor %}
        </select>
      </div>

      <div style="text-align:left;">
        <label><strong>Curso</strong></label><br>
        <select name="curso" style="width:100%;padding:6px 8px;border-radius:6px;border:1px solid #cbd5e1;">
          <option value="">-- Selecciona curso --</option>
          {% for c in cursos %}
            <option value="{{ c.id }}" {% if c.id|stringformat:"s" == curso_selected %}selected{% endif %}>
              {{ c.grado }} {{ c.nombre }}
            </option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
      <div style="text-align:left;">
        <label><strong>Período</strong></label><br>
        <select name="periodo" style="width:100%;padding:6px 8px;border-radius:6px;border:1px solid #cbd5e1;">
          <option value="">-- Selecciona período --</option>
          {% for p in periodos %}
            <option value="{{ p.id }}" {% if p.id|stringformat:"s" == periodo_selected %}selected{% endif %}>
              {{ p.anio.nombre }} - {{ p.nombre }}
            </option>
          {% endfor %}
        </select>
      </div>

      <div style="text-align:left;">
        <label><strong>Fecha</strong></label><br>
        <input type="date"
               name="fecha"
               value="{{ fecha_selected }}"
               style="width:100%;padding:6px 8px;border-radius:6px;border:1px solid #cbd5e1;">
      </div>
    </div>

    <div style="text-align:right;margin-top:10px;">
      <button type="submit"
              style="padding:8px 16px;border:none;border-radius:8px;background:#0f766e;color:#fff;cursor:pointer;">
        Ir a pasar lista
      </button>
    </div>
  </form>
</main>
{% endblock %}