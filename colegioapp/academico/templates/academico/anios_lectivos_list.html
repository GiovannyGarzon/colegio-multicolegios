{% extends "colegioapp/base.html" %}

{% block title %}A√±os lectivos | {{ request.school.nombre|default:"Colegio" }}{% endblock %}

{% block content %}
<main>
  <h2 style="max-width:900px;margin:10px auto 16px;font-size:1.6rem;color:#111827;">
    A√±os lectivos
  </h2>

  <!-- Bot√≥n volver -->
  <div style="max-width:900px; margin:0 auto 20px;">
    <a href="{% url 'academico:hub' %}"
       style="
         display:inline-block;
         background:#2563eb;
         color:white;
         padding:10px 16px;
         border-radius:8px;
         text-decoration:none;
         font-size:0.95rem;
         transition:background 0.2s, transform 0.1s;
       "
       onmouseover="this.style.background='#1d4ed8';"
       onmouseout="this.style.background='#2563eb';"
    >
      ‚Üê Volver al m√≥dulo acad√©mico
    </a>
  </div>

  <!-- Bot√≥n nuevo -->
  <div style="max-width:900px; margin:0 auto 20px; text-align:right;">
    <a href="{% url 'academico:anio_lectivo_create' %}"
       style="
         display:inline-block;
         background:#16a34a;
         color:white;
         padding:10px 16px;
         border-radius:8px;
         text-decoration:none;
         font-size:0.95rem;
       ">
      + Nuevo a√±o lectivo
    </a>
  </div>

  <!-- Tabla -->
  <div style="max-width:900px; margin:0 auto;">
    <div style="
        overflow-x:auto;
        background:white;
        border-radius:12px;
        box-shadow:0 4px 12px rgba(15,23,42,0.06);
        border:1px solid #e5e7eb;
      ">
      <table style="width:100%; border-collapse:collapse; font-size:0.95rem;">
        <thead style="background:#eff6ff; border-bottom:1px solid #e5e7eb;">
          <tr>
            <th style="padding:10px;text-align:left; color:#374151;">A√±o</th>
            <th style="padding:10px;text-align:left; color:#374151;">Fecha inicio</th>
            <th style="padding:10px;text-align:left; color:#374151;">Fecha fin</th>
            <th style="padding:10px;text-align:center; color:#374151;">Activo</th>
            <th style="padding:10px;text-align:center; color:#374151;">Acciones</th>
          </tr>
        </thead>
        <tbody>
        {% if anios %}
          {% for a in anios %}
          <tr style="border-top:1px solid #e5e7eb; {% if forloop.counter0|divisibleby:2 %}background:#f9fafb;{% endif %}">
            <td style="padding:8px 10px; color:#111827;">{{ a.nombre }}</td>
            <td style="padding:8px 10px; color:#4b5563;">{{ a.fecha_inicio|date:"d/m/Y" }}</td>
            <td style="padding:8px 10px; color:#4b5563;">{{ a.fecha_fin|date:"d/m/Y" }}</td>
            <td style="padding:8px 10px; text-align:center;">
              {% if a.activo %}
                <span style="color:#16a34a; font-weight:bold;">S√≠</span>
              {% else %}
                <span style="color:#dc2626; font-weight:bold;">No</span>
              {% endif %}
            </td>
            <td style="padding:8px 10px; text-align:center; white-space:nowrap;">
              <a href="{% url 'academico:anio_lectivo_update' a.id %}"
                 style="margin-right:6px; text-decoration:none; color:#2563eb;">
                ‚úé Editar
              </a>
              <a href="{% url 'academico:anio_lectivo_delete' a.id %}"
                 style="color:#dc2626; text-decoration:none;"
                 onclick="return confirm('¬øSeguro que deseas eliminar este a√±o lectivo?');">
                 üóë Eliminar
              </a>
            </td>
          </tr>
          {% endfor %}
        {% else %}
          <tr>
            <td colspan="5"
                style="padding:12px; text-align:center; color:#6b7280; background:#f9fafb;">
              No hay a√±os lectivos registrados.
            </td>
          </tr>
        {% endif %}
        </tbody>
      </table>
    </div>
  </div>
</main>
{% endblock %}