{% extends "sitio/base_publico.html" %}
{% load static %}
{% block title %}Contacto | CEI GIN GABY{% endblock %}

{% block content %}
<main>
  <h2>Contacto</h2>
  <p>Estamos para ayudarte. Escríbenos por el formulario o usa cualquiera de nuestros medios de contacto.</p>

  <!-- Mensajes (éxito / error) -->
  {% if messages %}
    <div style="max-width:980px;margin:14px auto;">
      {% for message in messages %}
        <div style="padding:10px 14px;border-radius:8px;
                    {% if message.tags == 'success' %}background:#e8f5e9;color:#2e7d32;
                    {% elif message.tags == 'warning' %}background:#fff8e1;color:#8d6e63;
                    {% elif message.tags == 'error' %}background:#ffebee;color:#c62828;
                    {% else %}background:#e3f2fd;color:#1565c0;{% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <!-- Layout 2 columnas -->
  <div style="max-width:1100px;margin:20px auto;display:grid;grid-template-columns: 1fr 1fr;gap:24px;">
    <!-- Columna izquierda: datos de contacto -->
    <section style="background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,0.06);">
      <h3 style="margin-top:0;">Información de contacto</h3>

      <ul style="list-style:none;padding:0;margin:14px 0;line-height:1.9;">
        <li><strong>WhatsApp:</strong> <a href="https://wa.me/573133144382" rel="noopener" target="_blank">313 314 4382</a></li>
        <li><strong>Correo:</strong> <a href="mailto:c.egingabi@gmail.com">c.egingabi@gmail.com</a></li>
        <li><strong>Dirección:</strong> Calle 5 Nº 6B-03, Barrio La Fragua</li>
      </ul>

      <h4>Redes sociales</h4>
      <p style="margin:8px 0;">
        <a href="https://facebook.com/centroeducativogingabi" target="_blank" rel="noopener">Facebook: centroeducativogingabi</a><br>
        <a href="https://instagram.com/centroeducativogingabi" target="_blank" rel="noopener">Instagram: centroeducativogingabi</a>
      </p>

      <h4>Horario de atención</h4>
      <p style="margin:8px 0;">Lunes a Viernes: 7:00 a.m. – 4:00 p.m.<br>Sábados: 8:00 a.m. – 12:00 m.</p>

      <div style="margin-top:14px;">
        <a href="{% url 'login' %}" style="padding:10px 14px;background:#004d40;color:#fff;border-radius:8px;text-decoration:none;">Ingresar (personal del colegio)</a>
      </div>
    </section>

    <!-- Columna derecha: formulario -->
    <section style="background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,0.06);">
      <h3 style="margin-top:0;">Envíanos un mensaje</h3>

      <form method="post" novalidate>
        {% csrf_token %}
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          <div>
            <label>Nombre completo</label>
            {{ form.nombre }}
            {% if form.nombre.errors %}<div style="color:#c62828;">{{ form.nombre.errors|striptags }}</div>{% endif %}
          </div>
          <div>
            <label>Correo</label>
            {{ form.email }}
            {% if form.email.errors %}<div style="color:#c62828;">{{ form.email.errors|striptags }}</div>{% endif %}
          </div>
          <div>
            <label>Teléfono (opcional)</label>
            {{ form.telefono }}
            {% if form.telefono.errors %}<div style="color:#c62828;">{{ form.telefono.errors|striptags }}</div>{% endif %}
          </div>
          <div>
            <label>Asunto</label>
            {{ form.asunto }}
            {% if form.asunto.errors %}<div style="color:#c62828;">{{ form.asunto.errors|striptags }}</div>{% endif %}
          </div>
        </div>

        <div style="margin-top:12px;">
          <label>Mensaje</label>
          {{ form.mensaje }}
          {% if form.mensaje.errors %}<div style="color:#c62828;">{{ form.mensaje.errors|striptags }}</div>{% endif %}
        </div>

        <div style="margin-top:12px;">
          <label style="display:flex;gap:8px;align-items:center;">
            {{ form.autorizacion }} <span>Acepto el tratamiento de datos personales.</span>
          </label>
          {% if form.autorizacion.errors %}<div style="color:#c62828;">{{ form.autorizacion.errors|striptags }}</div>{% endif %}
        </div>

        <button type="submit"
                style="margin-top:14px;background:#00796B;color:#fff;border:none;padding:10px 16px;border-radius:8px;cursor:pointer;">
          Enviar
        </button>
      </form>
    </section>
  </div>

  <!-- Mapa (opcional: ajusta coordenadas) -->
  <div style="max-width:1100px;margin:10px auto;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,0.06);">
    <iframe
      src="https://www.google.com/maps?q=Calle%205%20%236B-03%20La%20Fragua&output=embed"
      width="100%" height="320" style="border:0;" loading="lazy"></iframe>
  </div>
</main>
{% endblock %}