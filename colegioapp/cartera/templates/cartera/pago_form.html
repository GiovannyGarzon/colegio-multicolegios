{% extends "colegioapp/base.html" %}
{% load humanize %}

{% block title %}{% if edit_mode %}Editar Pago{% else %}Nuevo Pago{% endif %} | CEI GIN GABY{% endblock %}

{% block content %}
<main style="max-width:720px;margin:0 auto;">
  <h2 style="color:#00796B;">{% if edit_mode %}Editar Pago{% else %}Registrar Nuevo Pago{% endif %}</h2>

  <form method="post" style="background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.08);">
    {% csrf_token %}

    {% if form.non_field_errors %}
      <div style="margin-bottom:10px;color:#c62828;">{{ form.non_field_errors }}</div>
    {% endif %}

    <div style="display:grid;grid-template-columns:1fr;gap:12px;">
      <div>
        <label><strong>Cuenta por Cobrar</strong></label>
        {{ form.cuenta }}
        {% if form.cuenta.errors %}<div style="color:#c62828;">{{ form.cuenta.errors }}</div>{% endif %}
        <p style="font-size:12px;color:#607d8b;margin:6px 0 0;">Sugerencia: busca por concepto o estudiante.</p>
      </div>

      <div>
        <label><strong>Fecha de pago</strong></label>
        {{ form.fecha_pago }}
        {% if form.fecha_pago.errors %}<div style="color:#c62828;">{{ form.fecha_pago.errors }}</div>{% endif %}
      </div>

      <div>
        <label><strong>Medio de pago</strong></label>
        {{ form.medio_pago }}
        {% if form.medio_pago.errors %}<div style="color:#c62828;">{{ form.medio_pago.errors }}</div>{% endif %}
      </div>

      <div>
        <label><strong>Valor pagado</strong></label>
        {{ form.valor_pagado }}
        {% if form.valor_pagado.errors %}<div style="color:#c62828;">{{ form.valor_pagado.errors }}</div>{% endif %}
      </div>

      <div>
        <label><strong>Observaciones</strong></label>
        {{ form.observaciones }}
        {% if form.observaciones.errors %}<div style="color:#c62828;">{{ form.observaciones.errors }}</div>{% endif %}
      </div>
    </div>

    <div style="margin-top:16px;display:flex;gap:10px;">
      <button type="submit" style="padding:10px 16px;background:#00796B;color:white;border:none;border-radius:8px;cursor:pointer;">
        {% if edit_mode %}Actualizar{% else %}Guardar{% endif %}
      </button>
      <a href="{% url 'cartera:pagos' %}" style="padding:10px 16px;background:#9e9e9e;color:#fff;border-radius:8px;text-decoration:none;">
        Cancelar
      </a>
    </div>
  </form>
</main>
{% endblock %}