{% extends "colegioapp/base.html" %}

{% block title %}
  {% if editando %}Editar usuario{% else %}Crear usuario{% endif %}
{% endblock %}

{% block content %}
<main style="display:flex;justify-content:center;padding:30px 15px;">
  <div style="
        width:100%;
        max-width:600px;
        background:#fff;
        border-radius:12px;
        box-shadow:0 4px 14px rgba(0,0,0,0.08);
        padding:20px 22px;
      ">

    <h2 style="text-align:center;margin:0 0 18px;color:var(--primary-color);">
      {% if editando %}Editar usuario{% else %}Crear nuevo usuario{% endif %}
    </h2>

    <form method="post" enctype="multipart/form-data" style="display:flex;flex-direction:column;gap:14px;">
      {% csrf_token %}

      {% if form.non_field_errors %}
        <div style="color:#c62828; margin-bottom:6px;">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      {% for field in form %}
        <div style="text-align:left;">
          <label style="font-weight:600; color:#37474f;">
            {{ field.label }}:
          </label><br>
          {{ field }}
          {% if field.help_text %}
            <div style="font-size:0.8em;color:#607d8b;margin-top:2px;">
              {{ field.help_text }}
            </div>
          {% endif %}
          {% for error in field.errors %}
            <div style="color:#c62828; font-size:0.8em;margin-top:2px;">
              {{ error }}
            </div>
          {% endfor %}
        </div>
      {% endfor %}

      <div style="display:flex;justify-content:flex-end;gap:10px;margin-top:8px;">
        <a href="{% url 'cuentas:usuarios_list' %}"
           style="padding:8px 14px;background:#90a4ae;color:#fff;
                  text-decoration:none;border-radius:8px;font-size:0.9rem;">
          Cancelar
        </a>
        <button type="submit"
                style="padding:8px 14px;background:var(--primary-color);color:white;
                       border:none;border-radius:8px;cursor:pointer;font-size:0.9rem;">
          Guardar
        </button>
      </div>
    </form>
  </div>
</main>
{% endblock %}